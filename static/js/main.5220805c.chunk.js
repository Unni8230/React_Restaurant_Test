(this["webpackJsonprestaurant-name"]=this["webpackJsonprestaurant-name"]||[]).push([[0],{19:function(t,e,c){},20:function(t,e,c){},22:function(t,e,c){},23:function(t,e,c){"use strict";c.r(e);var a=c(1),r=c.n(a),n=c(11),s=c.n(n),i=c(10),o=c(12),u=c(3),d=c(13),l=c(4),h=c(5),j=c(6),m=c(7),b=(c(19),c(20),c(14)),O=r.a.createContext({cart:[],addItemsToCart:function(){},categories:[],activeCategory:"",changeActiveCategory:function(){},allProducts:[]}),p=c(0),g=function(){return Object(p.jsx)(O.Consumer,{children:function(t){var e=t.cart.length;return Object(p.jsxs)("div",{className:"header-main-container",children:[Object(p.jsx)("h1",{className:"header-heading",children:"UNI Resto Cafe"}),Object(p.jsxs)("div",{className:"header-cart-logo-section",children:[Object(p.jsx)(b.a,{className:"cart-logo"}),Object(p.jsx)("p",{className:"cart-items-count",children:e})]})]})}})},f=(c(22),function(t){function e(){return Object(l.a)(this,e),Object(j.a)(this,e,arguments)}return Object(m.a)(e,t),Object(h.a)(e,[{key:"render",value:function(){return Object(p.jsx)(O.Consumer,{children:function(t){var e=t.allProducts,c=t.activeCategory,a=t.categories,r=t.addItemsToCart,n=t.changeActiveCategory,s=[];e.length>0&&(s=e.filter(function(t){return t.menu_category===c})[0].category_dishes);return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(g,{}),Object(p.jsxs)("div",{className:"restaurant-menu-bg-container",children:[Object(p.jsx)("ul",{className:"categories-ul-list-container",children:a.map(function(t){return Object(p.jsx)("li",{className:"each-category-list-item ".concat(t===c?"active":""),onClick:function(){return n(t)},children:t},t)})}),Object(p.jsx)("ul",{className:"current-products-display-container",children:s.map(function(t){return Object(p.jsxs)("li",{className:"each-product-list-item",children:[Object(p.jsxs)("div",{className:"each-product-title-description-section",children:[Object(p.jsx)("p",{className:"each-product-title",children:t.dish_name}),Object(p.jsxs)("div",{className:"each-product-currency-section",children:[Object(p.jsx)("p",{className:"each-product-currency-type",children:t.dish_currency}),Object(p.jsx)("p",{className:"each-product-price",children:t.dish_price})]}),Object(p.jsx)("p",{className:"each-product-description",children:t.dish_description}),Object(p.jsx)("button",{className:"add-to-cart-btn",onClick:function(){return r(t)},children:"Add to Cart"}),Object(p.jsx)("p",{className:"each-product-customization-text",children:t.addonCat.length>0?"Customizations available":""})]}),Object(p.jsxs)("p",{className:"each-product-calories-text",children:[t.dish_calories," calories"]}),Object(p.jsx)("img",{className:"each-product-image",src:t.dish_image})]},t.dish_id)})})]})]})}})}}])}(a.Component)),v=f,x=[],C=function(t){function e(){var t;Object(l.a)(this,e);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(t=Object(j.a)(this,e,[].concat(a))).state={cart:[],categories:[],activeCategory:"From The Barnyard",allProducts:[]},t.changeActiveCategory=function(e){t.setState({activeCategory:e})},t.addItemstoCart=function(e){console.log(e.count),t.state.cart.some(function(t){return t.dish_id===e.dish_id})?t.setState(function(t){return{cart:t.cart.map(function(t){return t.dish_id===e.dish_id?Object(u.a)(Object(u.a)({},t),{},{count:t.count+1}):t})}}):t.setState(function(t){return{cart:[].concat(Object(d.a)(t.cart),[e])}})},t.fetchCartItems=Object(o.a)(Object(i.a)().m(function e(){var c,a,r,n;return Object(i.a)().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,fetch("https://apis2.ccbp.in/restaurant-app/restaurant-menu-list-details");case 1:return c=e.v,e.n=2,c.json();case 2:a=e.v,r=a[0].table_menu_list,n=r.map(function(t){return Object(u.a)(Object(u.a)({},t),{},{category_dishes:t.category_dishes.map(function(t){return Object(u.a)(Object(u.a)({},t),{},{count:1})})})}),x=r.map(function(t){return t.menu_category}),t.setState({allProducts:n,categories:x});case 3:return e.a(2)}},e)})),t}return Object(m.a)(e,t),Object(h.a)(e,[{key:"componentDidMount",value:function(){this.fetchCartItems()}},{key:"render",value:function(){var t=this.state,e=t.cart,c=t.activeCategory,a=t.allProducts;return console.log(e),Object(p.jsx)(O.Provider,{value:{cart:e,addItemsToCart:this.addItemstoCart,categories:x,activeCategory:c,changeActiveCategory:this.changeActiveCategory,allProducts:a},children:Object(p.jsx)(v,{})})}}])}(a.Component),y=C;s.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(y,{})}),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.5220805c.chunk.js.map